

<div class="register-content animated fadeIn">
    <mat-icon class="backIcon" svgIcon="back" routerLink="/auth/login"></mat-icon>
  <mat-card>
    <mat-card-content>
        <form class="form-login" [formGroup]="registerForm" (ngSubmit)="registerUser()">
          <h3 class="h3 mb-3 font-weight-normal text-center">Please sign up</h3>
          <mat-form-field class="full-width-input"   appearance="outline">
            <input matInput placeholder="name" formControlName="name" class="person-input">
            <mat-hint align="end">{{registerForm.controls.name.value?.length || 0}}/10</mat-hint>
            <mat-error *ngFor="let validation of user_validation_messages.name">
              <mat-error class="error-message" *ngIf="registerForm.get('name').hasError(validation.type) && (registerForm.get('name').dirty || registerForm.get('name').touched)">{{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width-input"   appearance="outline">
            <input matInput type="email" placeholder="Email" formControlName="email" required>
            <mat-error *ngFor="let validation of user_validation_messages.email">
              <mat-error class="error-message" *ngIf="registerForm.get('email').hasError(validation.type) && (registerForm.get('email').dirty || registerForm.get('email').touched)">{{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>


          <div formGroupName="matching_passwords">
            <mat-form-field class="full-width-input"   appearance="outline">
              <input matInput type="password" placeholder="Password" formControlName="password" required>
              <mat-error *ngFor="let validation of user_validation_messages.password">
                <mat-error class="error-message" *ngIf="registerForm.get('matching_passwords').get('password').hasError(validation.type) && (registerForm.get('matching_passwords').get('password').dirty || registerForm.get('matching_passwords').get('password').touched)">{{validation.message}}</mat-error>
              </mat-error>
            </mat-form-field>

            <mat-form-field class="full-width-input"   appearance="outline">
              <input matInput type="password" placeholder="Confirm Password" formControlName="confirm_password"  [errorStateMatcher]="parentErrorStateMatcher" required>
              <mat-error *ngFor="let validation of user_validation_messages.confirm_password">
                <mat-error class="error-message" *ngIf="(registerForm.get('matching_passwords').get('confirm_password').hasError(validation.type)|| registerForm.get('matching_passwords').hasError(validation.type)) && (registerForm.get('matching_passwords').get('confirm_password').dirty || registerForm.get('matching_passwords').get('confirm_password').touched)">{{validation.message}}</mat-error>
              </mat-error>
            </mat-form-field>
          </div>

          <mat-radio-group formControlName='role'>
            <label>Role: </label> <br/><br/>
            <mat-radio-button value="user">user</mat-radio-button>
            <mat-radio-button value="publisher">publisher</mat-radio-button>
            <mat-error *ngFor="let validation of user_validation_messages.role">
              <mat-error class="error-message" *ngIf="registerForm.get('role').hasError(validation.type) && (registerForm.get('role').dirty || registerForm.get('role').touched)">{{validation.message}}</mat-error>
            </mat-error>
          </mat-radio-group>

          <button class="btn-register" mat-raised-button color="primary" type="submit">Sign up</button>
        </form>
    </mat-card-content>
  </mat-card>
</div>

